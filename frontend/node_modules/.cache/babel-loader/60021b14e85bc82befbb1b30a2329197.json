{"ast":null,"code":"var _jsxFileName = \"/home/ducan1406/Documents/kiran_EMS/Online-Examination-System/frontend/src/components/dashboard/backbone.js\";\nimport React from 'react';\nimport './backbone.css';\nimport { connect } from 'react-redux';\nimport AllTrainer from '../admin/allTrainer/alltrainer';\nimport AllTopics from '../admin/allTopics/alltopics.js';\nimport AllQuestions from '../trainer/allquestions/allquestion';\nimport AllTests from '../trainer/alltests/alltest';\nimport ConductTest from '../trainer/conducttest/conducttest';\nimport NewTest from '../trainer/newtest/newtest';\nimport auth from '../../services/AuthServices';\nimport Welcome from './welcome';\nimport ErrorPage from './errorPage';\nimport { login, logout } from '../../actions/loginAction';\nimport { changeActiveRoute } from '../../actions/useraction';\nimport Alert from '../common/alert';\nimport { Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport { Layout, Menu, Button, Icon, Tooltip } from 'antd';\nimport main from './main.jpg';\nconst Header = Layout.Header,\n      Sider = Layout.Sider,\n      Content = Layout.Content;\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = () => {\n      this.setState({\n        collapsed: !this.state.collapsed\n      });\n    };\n\n    this.logOut = () => {\n      auth.deleteToken();\n      window.location.href = '/';\n    };\n\n    this.state = {\n      LocalIsLoggedIn: this.props.user.isLoggedIn,\n      collapsed: true\n    };\n  }\n\n  componentWillMount() {\n    console.log(this.state.LocalIsLoggedIn);\n    var t = auth.retriveToken();\n\n    if (this.state.LocalIsLoggedIn) {} else if (t && t !== 'undefined') {\n      auth.FetchAuth(t).then(response => {\n        console.log(response.data);\n        this.props.login(response.data.user);\n        this.setState({\n          LocalIsLoggedIn: true\n        });\n        var subUrl = this.props.match.params.options;\n        console.log(subUrl);\n        var obj = this.props.user.userOptions.find((o, i) => {\n          if (o.link === \"/user/\".concat(subUrl)) {\n            return o;\n          }\n        });\n        var tt = this.props.user.userOptions.indexOf(obj);\n\n        if (tt === -1) {\n          window.location.href = \"\".concat(this.props.user.userOptions[0].link);\n        } else {\n          this.props.changeActiveRoute(String(tt));\n        }\n      }).catch(error => {\n        Alert('warning', 'Warning!', 'Server Error.');\n        auth.deleteToken();\n        window.location.href = '/';\n      });\n    } else {\n      window.location = '/';\n    }\n  }\n\n  render() {\n    let torender = null;\n\n    if (this.props.match.params.options === 'listtrainers') {\n      torender = React.createElement(AllTrainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      });\n    } else if (this.props.match.params.options === 'listsubjects') {\n      torender = React.createElement(AllTopics, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      });\n    } else if (this.props.match.params.options === 'listquestions') {\n      torender = React.createElement(AllQuestions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      });\n    } else if (this.props.match.params.options === 'listtests') {\n      torender = React.createElement(AllTests, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      });\n    } else if (this.props.match.params.options === 'home') {\n      torender = React.createElement(Welcome, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      });\n    } else if (this.props.match.params.options === 'newtest') {\n      torender = React.createElement(NewTest, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      });\n    } else if (this.props.match.params.options === 'conducttest') {\n      let params = queryString.parse(this.props.location.search);\n      console.log(params);\n      torender = React.createElement(ConductTest, Object.assign({}, params, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }));\n    } else {\n      torender = React.createElement(ErrorPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Sider, {\n      trigger: null,\n      collapsible: true,\n      collapsed: this.state.collapsed,\n      style: {\n        overflow: 'hidden',\n        height: '100vh',\n        position: 'fixed',\n        left: 0,\n        zIndex: 5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(Menu, {\n      defaultSelectedKeys: [this.props.user.activeRoute],\n      mode: \"inline\",\n      theme: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.props.user.userOptions.map((d, i) => {\n      return React.createElement(Menu.Item, {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: d.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, d.display), React.createElement(Link, {\n        to: d.link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }));\n    }))), React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Header // theme=\"dark=\"\n    , {\n      style: {\n        position: 'fixed',\n        width: '100vw',\n        paddingLeft: '10px',\n        zIndex: '1000'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: \"trigger\",\n      type: this.state.collapsed ? 'menu-unfold' : 'menu-fold',\n      onClick: this.toggle,\n      style: {\n        color: '#fff',\n        fontSize: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      className: \"user-options-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Tooltip, {\n      placement: \"bottom\",\n      title: \"Log Out\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      size: \"large\",\n      shape: \"circle\",\n      onClick: this.logOut,\n      className: \"logout-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"logout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })))), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: main,\n      alt: \"company logo\",\n      className: \"d-logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })))), React.createElement(Content, {\n      style: {\n        margin: '24px 16px',\n        padding: 24,\n        marginTop: '80px',\n        background: 'rgb(205,217,225)',\n        minHeight: '100vh',\n        marginLeft: '95px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, torender))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nexport default connect(mapStateToProps, {\n  changeActiveRoute,\n  login,\n  logout\n})(Dashboard);","map":{"version":3,"sources":["/home/ducan1406/Documents/kiran_EMS/Online-Examination-System/frontend/src/components/dashboard/backbone.js"],"names":["React","connect","AllTrainer","AllTopics","AllQuestions","AllTests","ConductTest","NewTest","auth","Welcome","ErrorPage","login","logout","changeActiveRoute","Alert","Link","queryString","Layout","Menu","Button","Icon","Tooltip","main","Header","Sider","Content","Dashboard","Component","constructor","props","toggle","setState","collapsed","state","logOut","deleteToken","window","location","href","LocalIsLoggedIn","user","isLoggedIn","componentWillMount","console","log","t","retriveToken","FetchAuth","then","response","data","subUrl","match","params","options","obj","userOptions","find","o","i","link","tt","indexOf","String","catch","error","render","torender","parse","search","overflow","height","position","left","zIndex","activeRoute","map","d","icon","display","width","paddingLeft","color","fontSize","margin","padding","marginTop","background","minHeight","marginLeft","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,gBAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,WAAP,MAAwB,oCAAxB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,IAAP,MAAiB,6BAAjB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,2BAA9B;AACA,SAASC,iBAAT,QAAkC,0BAAlC;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,MAAvB,EAA+BC,IAA/B,EAAqCC,OAArC,QAAoD,MAApD;AACA,OAAOC,IAAP,MAAiB,YAAjB;MACQC,M,GAA2BN,M,CAA3BM,M;MAAQC,K,GAAmBP,M,CAAnBO,K;MAAOC,O,GAAYR,M,CAAZQ,O;;AAEvB,MAAMC,SAAN,SAAwB1B,KAAK,CAAC2B,SAA9B,CAAwC;AACtCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAQnBC,MARmB,GAQV,MAAM;AACb,WAAKC,QAAL,CAAc;AACZC,QAAAA,SAAS,EAAE,CAAC,KAAKC,KAAL,CAAWD;AADX,OAAd;AAGD,KAZkB;;AAAA,SAcnBE,MAdmB,GAcV,MAAM;AACb1B,MAAAA,IAAI,CAAC2B,WAAL;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACD,KAjBkB;;AAEjB,SAAKL,KAAL,GAAa;AACXM,MAAAA,eAAe,EAAE,KAAKV,KAAL,CAAWW,IAAX,CAAgBC,UADtB;AAEXT,MAAAA,SAAS,EAAE;AAFA,KAAb;AAID;;AAaDU,EAAAA,kBAAkB,GAAG;AACnBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAWM,eAAvB;AACA,QAAIM,CAAC,GAAGrC,IAAI,CAACsC,YAAL,EAAR;;AACA,QAAI,KAAKb,KAAL,CAAWM,eAAf,EAAgC,CAC/B,CADD,MACO,IAAIM,CAAC,IAAIA,CAAC,KAAK,WAAf,EAA4B;AACjCrC,MAAAA,IAAI,CACDuC,SADH,CACaF,CADb,EAEGG,IAFH,CAESC,QAAD,IAAc;AAClBN,QAAAA,OAAO,CAACC,GAAR,CAAYK,QAAQ,CAACC,IAArB;AACA,aAAKrB,KAAL,CAAWlB,KAAX,CAAiBsC,QAAQ,CAACC,IAAT,CAAcV,IAA/B;AACA,aAAKT,QAAL,CAAc;AACZQ,UAAAA,eAAe,EAAE;AADL,SAAd;AAGA,YAAIY,MAAM,GAAG,KAAKtB,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,OAArC;AACAX,QAAAA,OAAO,CAACC,GAAR,CAAYO,MAAZ;AACA,YAAII,GAAG,GAAG,KAAK1B,KAAL,CAAWW,IAAX,CAAgBgB,WAAhB,CAA4BC,IAA5B,CAAiC,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACnD,cAAID,CAAC,CAACE,IAAF,qBAAoBT,MAApB,CAAJ,EAAkC;AAChC,mBAAOO,CAAP;AACD;AACF,SAJS,CAAV;AAKA,YAAIG,EAAE,GAAG,KAAKhC,KAAL,CAAWW,IAAX,CAAgBgB,WAAhB,CAA4BM,OAA5B,CAAoCP,GAApC,CAAT;;AACA,YAAIM,EAAE,KAAK,CAAC,CAAZ,EAAe;AACbzB,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,aAA0B,KAAKT,KAAL,CAAWW,IAAX,CAAgBgB,WAAhB,CAA4B,CAA5B,EAA+BI,IAAzD;AACD,SAFD,MAEO;AACL,eAAK/B,KAAL,CAAWhB,iBAAX,CAA6BkD,MAAM,CAACF,EAAD,CAAnC;AACD;AACF,OArBH,EAsBGG,KAtBH,CAsBUC,KAAD,IAAW;AAChBnD,QAAAA,KAAK,CAAC,SAAD,EAAY,UAAZ,EAAwB,eAAxB,CAAL;AACAN,QAAAA,IAAI,CAAC2B,WAAL;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACD,OA1BH;AA2BD,KA5BM,MA4BA;AACLF,MAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACD;AACF;;AAED6B,EAAAA,MAAM,GAAG;AACP,QAAIC,QAAQ,GAAG,IAAf;;AACA,QAAI,KAAKtC,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxB,KAAoC,cAAxC,EAAwD;AACtDa,MAAAA,QAAQ,GAAG,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX;AACD,KAFD,MAEO,IAAI,KAAKtC,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxB,KAAoC,cAAxC,EAAwD;AAC7Da,MAAAA,QAAQ,GAAG,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX;AACD,KAFM,MAEA,IAAI,KAAKtC,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxB,KAAoC,eAAxC,EAAyD;AAC9Da,MAAAA,QAAQ,GAAG,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX;AACD,KAFM,MAEA,IAAI,KAAKtC,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxB,KAAoC,WAAxC,EAAqD;AAC1Da,MAAAA,QAAQ,GAAG,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX;AACD,KAFM,MAEA,IAAI,KAAKtC,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxB,KAAoC,MAAxC,EAAgD;AACrDa,MAAAA,QAAQ,GAAG,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX;AACD,KAFM,MAEA,IAAI,KAAKtC,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxB,KAAoC,SAAxC,EAAmD;AACxDa,MAAAA,QAAQ,GAAG,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX;AACD,KAFM,MAEA,IAAI,KAAKtC,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxB,KAAoC,aAAxC,EAAuD;AAC5D,UAAID,MAAM,GAAGrC,WAAW,CAACoD,KAAZ,CAAkB,KAAKvC,KAAL,CAAWQ,QAAX,CAAoBgC,MAAtC,CAAb;AACA1B,MAAAA,OAAO,CAACC,GAAR,CAAYS,MAAZ;AACAc,MAAAA,QAAQ,GAAG,oBAAC,WAAD,oBAAiBd,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAX;AACD,KAJM,MAIA;AACLc,MAAAA,QAAQ,GAAG,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX;AACD;;AACD,WACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,OAAO,EAAE,IADX;AAEE,MAAA,WAAW,MAFb;AAGE,MAAA,SAAS,EAAE,KAAKlC,KAAL,CAAWD,SAHxB;AAIE,MAAA,KAAK,EAAE;AACLsC,QAAAA,QAAQ,EAAE,QADL;AAELC,QAAAA,MAAM,EAAE,OAFH;AAGLC,QAAAA,QAAQ,EAAE,OAHL;AAILC,QAAAA,IAAI,EAAE,CAJD;AAKLC,QAAAA,MAAM,EAAE;AALH,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAWE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,EAYE,oBAAC,IAAD;AACE,MAAA,mBAAmB,EAAE,CAAC,KAAK7C,KAAL,CAAWW,IAAX,CAAgBmC,WAAjB,CADvB;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,KAAK,EAAC,MAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIG,KAAK9C,KAAL,CAAWW,IAAX,CAAgBgB,WAAhB,CAA4BoB,GAA5B,CAAgC,CAACC,CAAD,EAAIlB,CAAJ,KAAU;AACzC,aACE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,GAAG,EAAEA,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAEkB,CAAC,CAACC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOD,CAAC,CAACE,OAAT,CAFF,EAGE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAEF,CAAC,CAACjB,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CADF;AAOD,KARA,CAJH,CAZF,CADF,EA4BE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD,CACE;AADF;AAEE,MAAA,KAAK,EAAE;AACLY,QAAAA,QAAQ,EAAE,OADL;AAELQ,QAAAA,KAAK,EAAE,OAFF;AAGLC,QAAAA,WAAW,EAAE,MAHR;AAILP,QAAAA,MAAM,EAAE;AAJH,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQE,oBAAC,IAAD;AACE,MAAA,SAAS,EAAC,SADZ;AAEE,MAAA,IAAI,EAAE,KAAKzC,KAAL,CAAWD,SAAX,GAAuB,aAAvB,GAAuC,WAF/C;AAGE,MAAA,OAAO,EAAE,KAAKF,MAHhB;AAIE,MAAA,KAAK,EAAE;AAAEoD,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,QAAQ,EAAE;AAA3B,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,EAcE;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,QAAnB;AAA4B,MAAA,KAAK,EAAC,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,SADP;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,KAAK,EAAC,QAHR;AAIE,MAAA,OAAO,EAAE,KAAKjD,MAJhB;AAKE,MAAA,SAAS,EAAC,eALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF,CADF,CADF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAEZ,IAAV;AAAgB,MAAA,GAAG,EAAC,cAApB;AAAmC,MAAA,SAAS,EAAC,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAbF,CAdF,CADF,EAiCE,oBAAC,OAAD;AACE,MAAA,KAAK,EAAE;AACL8D,QAAAA,MAAM,EAAE,WADH;AAELC,QAAAA,OAAO,EAAE,EAFJ;AAGLC,QAAAA,SAAS,EAAE,MAHN;AAILC,QAAAA,UAAU,EAAE,kBAJP;AAKLC,QAAAA,SAAS,EAAE,OALN;AAMLC,QAAAA,UAAU,EAAE;AANP,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASE;AAAK,MAAA,KAAK,EAAE;AAAET,QAAAA,KAAK,EAAE;AAAT,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgCb,QAAhC,CATF,CAjCF,CA5BF,CADF;AA4ED;;AA1JqC;;AA6JxC,MAAMuB,eAAe,GAAIzD,KAAD,KAAY;AAClCO,EAAAA,IAAI,EAAEP,KAAK,CAACO;AADsB,CAAZ,CAAxB;;AAIA,eAAevC,OAAO,CAACyF,eAAD,EAAkB;AACtC7E,EAAAA,iBADsC;AAEtCF,EAAAA,KAFsC;AAGtCC,EAAAA;AAHsC,CAAlB,CAAP,CAIZc,SAJY,CAAf","sourcesContent":["import React from 'react';\r\nimport './backbone.css';\r\nimport { connect } from 'react-redux';\r\nimport AllTrainer from '../admin/allTrainer/alltrainer';\r\nimport AllTopics from '../admin/allTopics/alltopics.js';\r\nimport AllQuestions from '../trainer/allquestions/allquestion';\r\nimport AllTests from '../trainer/alltests/alltest';\r\nimport ConductTest from '../trainer/conducttest/conducttest';\r\nimport NewTest from '../trainer/newtest/newtest';\r\nimport auth from '../../services/AuthServices';\r\nimport Welcome from './welcome';\r\nimport ErrorPage from './errorPage';\r\nimport { login, logout } from '../../actions/loginAction';\r\nimport { changeActiveRoute } from '../../actions/useraction';\r\nimport Alert from '../common/alert';\r\nimport { Link } from 'react-router-dom';\r\nimport queryString from 'query-string';\r\nimport { Layout, Menu, Button, Icon, Tooltip } from 'antd';\r\nimport main from './main.jpg';\r\nconst { Header, Sider, Content } = Layout;\r\n\r\nclass Dashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      LocalIsLoggedIn: this.props.user.isLoggedIn,\r\n      collapsed: true,\r\n    };\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed,\r\n    });\r\n  };\r\n\r\n  logOut = () => {\r\n    auth.deleteToken();\r\n    window.location.href = '/';\r\n  };\r\n\r\n  componentWillMount() {\r\n    console.log(this.state.LocalIsLoggedIn);\r\n    var t = auth.retriveToken();\r\n    if (this.state.LocalIsLoggedIn) {\r\n    } else if (t && t !== 'undefined') {\r\n      auth\r\n        .FetchAuth(t)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          this.props.login(response.data.user);\r\n          this.setState({\r\n            LocalIsLoggedIn: true,\r\n          });\r\n          var subUrl = this.props.match.params.options;\r\n          console.log(subUrl);\r\n          var obj = this.props.user.userOptions.find((o, i) => {\r\n            if (o.link === `/user/${subUrl}`) {\r\n              return o;\r\n            }\r\n          });\r\n          var tt = this.props.user.userOptions.indexOf(obj);\r\n          if (tt === -1) {\r\n            window.location.href = `${this.props.user.userOptions[0].link}`;\r\n          } else {\r\n            this.props.changeActiveRoute(String(tt));\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          Alert('warning', 'Warning!', 'Server Error.');\r\n          auth.deleteToken();\r\n          window.location.href = '/';\r\n        });\r\n    } else {\r\n      window.location = '/';\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let torender = null;\r\n    if (this.props.match.params.options === 'listtrainers') {\r\n      torender = <AllTrainer />;\r\n    } else if (this.props.match.params.options === 'listsubjects') {\r\n      torender = <AllTopics />;\r\n    } else if (this.props.match.params.options === 'listquestions') {\r\n      torender = <AllQuestions />;\r\n    } else if (this.props.match.params.options === 'listtests') {\r\n      torender = <AllTests />;\r\n    } else if (this.props.match.params.options === 'home') {\r\n      torender = <Welcome />;\r\n    } else if (this.props.match.params.options === 'newtest') {\r\n      torender = <NewTest />;\r\n    } else if (this.props.match.params.options === 'conducttest') {\r\n      let params = queryString.parse(this.props.location.search);\r\n      console.log(params);\r\n      torender = <ConductTest {...params} />;\r\n    } else {\r\n      torender = <ErrorPage />;\r\n    }\r\n    return (\r\n      <Layout>\r\n        <Sider\r\n          trigger={null}\r\n          collapsible\r\n          collapsed={this.state.collapsed}\r\n          style={{\r\n            overflow: 'hidden',\r\n            height: '100vh',\r\n            position: 'fixed',\r\n            left: 0,\r\n            zIndex: 5,\r\n          }}>\r\n          <div className=\"logo11\" />\r\n          <Menu\r\n            defaultSelectedKeys={[this.props.user.activeRoute]}\r\n            mode=\"inline\"\r\n            theme=\"dark\">\r\n            {this.props.user.userOptions.map((d, i) => {\r\n              return (\r\n                <Menu.Item key={i}>\r\n                  <Icon type={d.icon} />\r\n                  <span>{d.display}</span>\r\n                  <Link to={d.link}></Link>\r\n                </Menu.Item>\r\n              );\r\n            })}\r\n          </Menu>\r\n        </Sider>\r\n        <Layout>\r\n          <Header\r\n            // theme=\"dark=\"\r\n            style={{\r\n              position: 'fixed',\r\n              width: '100vw',\r\n              paddingLeft: '10px',\r\n              zIndex: '1000',\r\n            }}>\r\n            <Icon\r\n              className=\"trigger\"\r\n              type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\r\n              onClick={this.toggle}\r\n              style={{ color: '#fff', fontSize: '20px' }}\r\n            />\r\n            <ul className=\"user-options-list\">\r\n              <li>\r\n                <Tooltip placement=\"bottom\" title=\"Log Out\">\r\n                  <Button\r\n                    type=\"primary\"\r\n                    size=\"large\"\r\n                    shape=\"circle\"\r\n                    onClick={this.logOut}\r\n                    className=\"logout-button\">\r\n                    <Icon type=\"logout\" />\r\n                  </Button>\r\n                </Tooltip>\r\n              </li>\r\n              <li>\r\n                <img src={main} alt=\"company logo\" className=\"d-logo\" />\r\n              </li>\r\n            </ul>\r\n          </Header>\r\n          <Content\r\n            style={{\r\n              margin: '24px 16px',\r\n              padding: 24,\r\n              marginTop: '80px',\r\n              background: 'rgb(205,217,225)',\r\n              minHeight: '100vh',\r\n              marginLeft: '95px',\r\n            }}>\r\n            <div style={{ width: '100%' }}>{torender}</div>\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  changeActiveRoute,\r\n  login,\r\n  logout,\r\n})(Dashboard);\r\n"]},"metadata":{},"sourceType":"module"}